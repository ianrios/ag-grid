/**
          * @ag-grid-enterprise/status-bar - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v31.0.0
          * @link https://www.ag-grid.com/
          * @license Commercial
          */
/**
          * @ag-grid-enterprise/status-bar - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v31.0.0
          * @link https://www.ag-grid.com/
          * @license Commercial
          */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t,e=require("@ag-grid-community/core"),o=require("@ag-grid-enterprise/core"),n=(t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(e,o)},function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}),r=function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},i=function(t){function o(){var e=t.call(this)||this;return e.allComponents={},e}return n(o,t),o.prototype.registerStatusPanel=function(t,e){this.allComponents[t]=e},o.prototype.unregisterStatusPanel=function(t){delete this.allComponents[t]},o.prototype.unregisterAllComponents=function(){this.allComponents={}},o.prototype.getStatusPanel=function(t){return this.allComponents[t]},o=r([e.Bean("statusBarService")],o)}(e.BeanStub),a=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),s=function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},u=function(t){function o(){var e=t.call(this,o.TEMPLATE)||this;return e.compDestroyFunctions=[],e}return a(o,t),o.prototype.postConstruct=function(){this.processStatusPanels(),this.addManagedPropertyListeners(["statusBar"],this.handleStatusBarChanged.bind(this))},o.prototype.processStatusPanels=function(){var t,e=null===(t=this.gridOptionsService.get("statusBar"))||void 0===t?void 0:t.statusPanels;if(e){var o=e.filter((function(t){return"left"===t.align}));this.createAndRenderComponents(o,this.eStatusBarLeft);var n=e.filter((function(t){return"center"===t.align}));this.createAndRenderComponents(n,this.eStatusBarCenter);var r=e.filter((function(t){return!t.align||"right"===t.align}));this.createAndRenderComponents(r,this.eStatusBarRight)}else this.setDisplayed(!1)},o.prototype.handleStatusBarChanged=function(){var t,e=null===(t=this.gridOptionsService.get("statusBar"))||void 0===t?void 0:t.statusPanels,o=Array.isArray(e)&&e.length>0;this.setDisplayed(o),this.resetStatusBar(),o&&this.processStatusPanels()},o.prototype.resetStatusBar=function(){this.eStatusBarLeft.innerHTML="",this.eStatusBarCenter.innerHTML="",this.eStatusBarRight.innerHTML="",this.destroyComponents(),this.statusBarService.unregisterAllComponents()},o.prototype.destroyComponents=function(){this.compDestroyFunctions.forEach((function(t){return t()})),this.compDestroyFunctions=[]},o.prototype.createAndRenderComponents=function(t,o){var n=this,r=[];t.forEach((function(t){var e=n.userComponentFactory.getStatusPanelCompDetails(t,{}).newAgStackInstance();e&&r.push({key:t.key||t.statusPanel,promise:e})})),e.AgPromise.all(r.map((function(t){return t.promise}))).then((function(){r.forEach((function(t){t.promise.then((function(e){var r=function(){n.getContext().destroyBean(e)};n.isAlive()?(n.statusBarService.registerStatusPanel(t.key,e),o.appendChild(e.getGui()),n.compDestroyFunctions.push(r)):r()}))}))}))},o.TEMPLATE='<div class="ag-status-bar">\n            <div ref="eStatusBarLeft" class="ag-status-bar-left" role="status"></div>\n            <div ref="eStatusBarCenter" class="ag-status-bar-center" role="status"></div>\n            <div ref="eStatusBarRight" class="ag-status-bar-right" role="status"></div>\n        </div>',s([e.Autowired("userComponentFactory")],o.prototype,"userComponentFactory",void 0),s([e.Autowired("statusBarService")],o.prototype,"statusBarService",void 0),s([e.RefSelector("eStatusBarLeft")],o.prototype,"eStatusBarLeft",void 0),s([e.RefSelector("eStatusBarCenter")],o.prototype,"eStatusBarCenter",void 0),s([e.RefSelector("eStatusBarRight")],o.prototype,"eStatusBarRight",void 0),s([e.PostConstruct],o.prototype,"postConstruct",null),s([e.PreDestroy],o.prototype,"destroyComponents",null),o}(e.Component),l=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),c=function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},p=function(t){function o(){return t.call(this,o.TEMPLATE)||this}return l(o,t),o.prototype.setLabel=function(t,e){this.setDisplayed(!1);var o=this.localeService.getLocaleTextFunc();this.eLabel.innerHTML=o(t,e)},o.prototype.setValue=function(t){this.eValue.innerHTML=t},o.TEMPLATE='<div class="ag-status-name-value">\n            <span ref="eLabel"></span>:&nbsp;\n            <span ref="eValue" class="ag-status-name-value-value"></span>\n        </div>',c([e.RefSelector("eLabel")],o.prototype,"eLabel",void 0),c([e.RefSelector("eValue")],o.prototype,"eValue",void 0),o}(e.Component),f=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),d=function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},g=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return f(o,t),o.prototype.postConstruct=function(){"clientSide"===this.gridApi.getModel().getType()?(this.setLabel("totalAndFilteredRows","Rows"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-and-filtered-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,e.Events.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()):console.warn("AG Grid: agTotalAndFilteredRowCountComponent should only be used with the client side row model.")},o.prototype.onDataChanged=function(){var t=this.localeService.getLocaleTextFunc(),o=t("thousandSeparator",","),n=t("decimalSeparator","."),r=e._.formatNumberCommas(this.getFilteredRowCountValue(),o,n),i=e._.formatNumberCommas(this.getTotalRowCount(),o,n);if(r===i)this.setValue(r);else{var a=this.localeService.getLocaleTextFunc();this.setValue("".concat(r," ").concat(a("of","of")," ").concat(i))}},o.prototype.getFilteredRowCountValue=function(){var t=0;return this.gridApi.forEachNodeAfterFilter((function(e){e.group||t++})),t},o.prototype.getTotalRowCount=function(){var t=0;return this.gridApi.forEachNode((function(e){e.group||t++})),t},o.prototype.init=function(){},o.prototype.destroy=function(){t.prototype.destroy.call(this)},d([e.Autowired("gridApi")],o.prototype,"gridApi",void 0),d([e.PostConstruct],o.prototype,"postConstruct",null),o}(p),h=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),y=function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},v=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return h(o,t),o.prototype.postConstruct=function(){if(this.setLabel("filteredRows","Filtered"),"clientSide"===this.gridApi.getModel().getType()){this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-filtered-row-count"),this.setDisplayed(!0);var t=this.onDataChanged.bind(this);this.addManagedListener(this.eventService,e.Events.EVENT_MODEL_UPDATED,t),t()}else console.warn("AG Grid: agFilteredRowCountComponent should only be used with the client side row model.")},o.prototype.onDataChanged=function(){var t=this.getTotalRowCountValue(),o=this.getFilteredRowCountValue(),n=this.localeService.getLocaleTextFunc(),r=n("thousandSeparator",","),i=n("decimalSeparator",".");this.setValue(e._.formatNumberCommas(o,r,i)),this.setDisplayed(t!==o)},o.prototype.getTotalRowCountValue=function(){var t=0;return this.gridApi.forEachNode((function(e){return t+=1})),t},o.prototype.getFilteredRowCountValue=function(){var t=0;return this.gridApi.forEachNodeAfterFilter((function(e){e.group||(t+=1)})),t},o.prototype.init=function(){},o.prototype.destroy=function(){t.prototype.destroy.call(this)},y([e.Autowired("gridApi")],o.prototype,"gridApi",void 0),y([e.PostConstruct],o.prototype,"postConstruct",null),o}(p),m=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),C=function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},w=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return m(o,t),o.prototype.postConstruct=function(){this.setLabel("totalRows","Total Rows"),"clientSide"===this.gridApi.getModel().getType()?(this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,e.Events.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()):console.warn("AG Grid: agTotalRowCountComponent should only be used with the client side row model.")},o.prototype.onDataChanged=function(){var t=this.localeService.getLocaleTextFunc(),o=t("thousandSeparator",","),n=t("decimalSeparator",".");this.setValue(e._.formatNumberCommas(this.getRowCountValue(),o,n))},o.prototype.getRowCountValue=function(){var t=0;return this.gridApi.forEachLeafNode((function(e){return t+=1})),t},o.prototype.init=function(){},o.prototype.destroy=function(){t.prototype.destroy.call(this)},C([e.Autowired("gridApi")],o.prototype,"gridApi",void 0),C([e.PostConstruct],o.prototype,"postConstruct",null),o}(p),S=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),A=function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},_=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return S(o,t),o.prototype.postConstruct=function(){if(this.isValidRowModel()){this.setLabel("selectedRows","Selected"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-selected-row-count"),this.onRowSelectionChanged();var t=this.onRowSelectionChanged.bind(this);this.addManagedListener(this.eventService,e.Events.EVENT_MODEL_UPDATED,t),this.addManagedListener(this.eventService,e.Events.EVENT_SELECTION_CHANGED,t)}else console.warn("AG Grid: agSelectedRowCountComponent should only be used with the client and server side row model.")},o.prototype.isValidRowModel=function(){var t=this.gridApi.getModel().getType();return"clientSide"===t||"serverSide"===t},o.prototype.onRowSelectionChanged=function(){var t=this.selectionService.getSelectionCount();if(t<0)return this.setValue("?"),void this.setDisplayed(!0);var o=this.localeService.getLocaleTextFunc(),n=o("thousandSeparator",","),r=o("decimalSeparator",".");this.setValue(e._.formatNumberCommas(t,n,r)),this.setDisplayed(t>0)},o.prototype.init=function(){},o.prototype.destroy=function(){t.prototype.destroy.call(this)},A([e.Autowired("gridApi")],o.prototype,"gridApi",void 0),A([e.Autowired("selectionService")],o.prototype,"selectionService",void 0),A([e.PostConstruct],o.prototype,"postConstruct",null),o}(p),b=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),R=function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},P=function(t){function o(){return t.call(this,o.TEMPLATE)||this}return b(o,t),o.prototype.destroy=function(){t.prototype.destroy.call(this)},o.prototype.postConstruct=function(){this.isValidRowModel()?(this.avgAggregationComp.setLabel("avg","Average"),this.countAggregationComp.setLabel("count","Count"),this.minAggregationComp.setLabel("min","Min"),this.maxAggregationComp.setLabel("max","Max"),this.sumAggregationComp.setLabel("sum","Sum"),this.addManagedListener(this.eventService,e.Events.EVENT_RANGE_SELECTION_CHANGED,this.onRangeSelectionChanged.bind(this)),this.addManagedListener(this.eventService,e.Events.EVENT_MODEL_UPDATED,this.onRangeSelectionChanged.bind(this))):console.warn("AG Grid: agAggregationComponent should only be used with the client and server side row model.")},o.prototype.isValidRowModel=function(){var t=this.gridApi.getModel().getType();return"clientSide"===t||"serverSide"===t},o.prototype.init=function(){},o.prototype.setAggregationComponentValue=function(t,o,n){var r=this.getAggregationValueComponent(t);if(e._.exists(r)&&r){var i=this.localeService.getLocaleTextFunc(),a=i("thousandSeparator",","),s=i("decimalSeparator",".");r.setValue(e._.formatNumberTwoDecimalPlacesAndCommas(o,a,s)),r.setDisplayed(n)}},o.prototype.getAggregationValueComponent=function(t){var o="".concat(t,"AggregationComp"),n=null,r=this.gridOptionsService.get("statusBar"),i=e._.exists(r)&&r?r.statusPanels.find((function(t){return"agAggregationComponent"===t.statusPanel})):null;return e._.exists(i)&&i?(!e._.exists(i.statusPanelParams)||e._.exists(i.statusPanelParams)&&e._.exists(i.statusPanelParams.aggFuncs)&&e._.exists(i.statusPanelParams.aggFuncs.find((function(e){return e===t}))))&&(n=this[o]):n=this[o],n},o.prototype.onRangeSelectionChanged=function(){var t=this,o=this.rangeService?this.rangeService.getCellRanges():void 0,n=0,r=0,i=0,a=null,s=null,u={};o&&!e._.missingOrEmpty(o)&&o.forEach((function(o){for(var l=t.rangeService.getRangeStartRow(o),c=t.rangeService.getRangeEndRow(o);;){if(e._.missing(l)||!l||t.rowPositionUtils.before(c,l)||!l||!o.columns)break;o.columns.forEach((function(o){if(null!==l){var c=t.cellPositionUtils.createId({rowPinned:l.rowPinned,column:o,rowIndex:l.rowIndex});if(!u[c]){u[c]=!0;var p=t.rowRenderer.getRowNode(l);if(!e._.missing(p)){var f=t.valueService.getValue(o,p);e._.missing(f)||""===f||(r++,"object"==typeof f&&"value"in f&&""===(f=f.value)||("string"==typeof f&&(f=Number(f)),"number"!=typeof f||isNaN(f)||(n+=f,(null===s||f>s)&&(s=f),(null===a||f<a)&&(a=f),i++)))}}}})),l=t.cellNavigationService.getRowBelow(l)}}));var l=r>1,c=i>1;this.setAggregationComponentValue("count",r,l),this.setAggregationComponentValue("sum",n,c),this.setAggregationComponentValue("min",a,c),this.setAggregationComponentValue("max",s,c),this.setAggregationComponentValue("avg",n/i,c)},o.TEMPLATE='<div class="ag-status-panel ag-status-panel-aggregations">\n            <ag-name-value ref="avgAggregationComp"></ag-name-value>\n            <ag-name-value ref="countAggregationComp"></ag-name-value>\n            <ag-name-value ref="minAggregationComp"></ag-name-value>\n            <ag-name-value ref="maxAggregationComp"></ag-name-value>\n            <ag-name-value ref="sumAggregationComp"></ag-name-value>\n        </div>',R([e.Optional("rangeService")],o.prototype,"rangeService",void 0),R([e.Autowired("valueService")],o.prototype,"valueService",void 0),R([e.Autowired("cellNavigationService")],o.prototype,"cellNavigationService",void 0),R([e.Autowired("rowRenderer")],o.prototype,"rowRenderer",void 0),R([e.Autowired("gridApi")],o.prototype,"gridApi",void 0),R([e.Autowired("cellPositionUtils")],o.prototype,"cellPositionUtils",void 0),R([e.Autowired("rowPositionUtils")],o.prototype,"rowPositionUtils",void 0),R([e.RefSelector("sumAggregationComp")],o.prototype,"sumAggregationComp",void 0),R([e.RefSelector("countAggregationComp")],o.prototype,"countAggregationComp",void 0),R([e.RefSelector("minAggregationComp")],o.prototype,"minAggregationComp",void 0),R([e.RefSelector("maxAggregationComp")],o.prototype,"maxAggregationComp",void 0),R([e.RefSelector("avgAggregationComp")],o.prototype,"avgAggregationComp",void 0),R([e.PostConstruct],o.prototype,"postConstruct",null),o}(e.Component),O={version:"31.0.0",moduleName:e.ModuleNames.StatusBarModule,beans:[i],agStackComponents:[{componentName:"AgStatusBar",componentClass:u},{componentName:"AgNameValue",componentClass:p}],userComponents:[{componentName:"agAggregationComponent",componentClass:P},{componentName:"agSelectedRowCountComponent",componentClass:_},{componentName:"agTotalRowCountComponent",componentClass:w},{componentName:"agFilteredRowCountComponent",componentClass:v},{componentName:"agTotalAndFilteredRowCountComponent",componentClass:g}],dependantModules:[o.EnterpriseCoreModule]};exports.StatusBarModule=O;